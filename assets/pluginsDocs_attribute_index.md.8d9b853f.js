import{_ as s,c as a,o as n,a as l}from"./app.a5da328c.js";const A=JSON.parse('{"title":"特性","description":"","frontmatter":{},"headers":[{"level":2,"title":"特性使用规范","slug":"特性使用规范","link":"#特性使用规范","children":[]},{"level":2,"title":"基本特性","slug":"基本特性","link":"#基本特性","children":[]}],"relativePath":"pluginsDocs/attribute/index.md"}'),o={name:"pluginsDocs/attribute/index.md"},p=l(`<h1 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-hidden="true">#</a></h1><p>特性是C#中的一种语法，可以相当于Java中的注解，可以标注方法的具体属性。</p><p>在SoruxBot框架中，你可以在Attribute文件夹中找到特性的API，并引用到你的项目中。</p><h2 id="特性使用规范" tabindex="-1">特性使用规范 <a class="header-anchor" href="#特性使用规范" aria-hidden="true">#</a></h2><p>对于Controller中的特性才会被框架注册，除此之外，框架也同样拒绝不在Register类中注册接口而使用需要被这样注册的特性。</p><p>例如，PermissionAttribute需要开发者在Register中继承IPermissionRegister接口，如果没有继承接口就使用可能会导致无法预知的后果。</p><h2 id="基本特性" tabindex="-1">基本特性 <a class="header-anchor" href="#基本特性" aria-hidden="true">#</a></h2><p>对于需要接受聊天平台的事件通知的Action，需要注册EventAttribute和CommandAttribute(可选)两个特性。</p><p>例如，以一段代码为例：</p><div class="language-csharp"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">Event</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">EventType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SoloMessage</span><span style="color:#89DDFF;">)]</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">Command</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">CommandAttribute</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Prefix</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">None</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">debug [state]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)]</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PluginFucFlag</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Debug</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">MessageContext</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">context</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">state</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">switch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SendPrivateMessage</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Debug Mode on</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> PluginFucFlag</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MsgIntercepted</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SendPrivateMessage</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Debug Mode off</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> PluginFucFlag</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MsgIntercepted</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            bot</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SendPrivateMessage</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Error State,only be on/off but receive:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> state</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> PluginFucFlag</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MsgIntercepted</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"></span></code></pre></div><p>在这个地方，Action注册了SoloMessage特性，表示其接受私聊消息，此外他注册了Command特性，表示他被触发的指令是<code>debug [state]</code></p><p>那么当用于以私聊方式发送消息<code>debug [state]</code>到机器人时，机器人会自动识别指令并且调用Action</p><p>对于此类管理插件是否被触发的基本特性，成为基本特性，且以下是详细的介绍：</p><ul><li><a href="/SoruxBotDocs/pluginsDocs/attribute/event.html">事件</a></li><li><a href="/SoruxBotDocs/pluginsDocs/attribute/command.html">指令</a></li></ul><p>除了基本特性之外，还有一些被成为可选特性，可以为你提供其他的功能：</p><ul><li><a href="/SoruxBotDocs/pluginsDocs/attribute/platformconstraint.html">平台约束</a></li><li><a href="/SoruxBotDocs/pluginsDocs/attribute/privilege.html">权限</a></li><li><a href="/SoruxBotDocs/pluginsDocs/attribute/longcommunicate.html">长对话</a></li><li><a href="/SoruxBotDocs/pluginsDocs/attribute/storage.html">存储</a></li></ul><p>文档完善中...</p>`,17),e=[p];function t(c,r,D,F,y,i){return n(),a("div",null,e)}const u=s(o,[["render",t]]);export{A as __pageData,u as default};
